/*!
 * # Semantic UI 2.0.0 - VideoHtml
 * http://github.com/semantic-org/semantic-ui/
 *
 *
 * Copyright 2015 Contributorss
 * Released under the MIT license
 * http://opensource.org/licenses/MIT
 *
 */
!function(e,n,t,o){"use strict";e.fn.videohtml=function(t){function i(e,n,t){return n<=e.length?e:i(n,t+e,t)}function a(e,n){console.log(e),console.log(n);for(var t=0;t<n.length;t++)if(console.log(n.start(t)),console.log(n.end(t)),e>=n.start(t)&&e<=n.end(t))return!0;return!1}{var r,c=e(this),s=c.selector||"",u=(new Date).getTime(),l=[],m=arguments[0],d="string"==typeof m,f=[].slice.call(arguments,1);n.requestAnimationFrame||n.mozRequestAnimationFrame||n.webkitRequestAnimationFrame||n.msRequestAnimationFrame||function(e){setTimeout(e,0)}}return c.each(function(){var p,g=e.isPlainObject(t)?e.extend(!0,{},e.fn.video.settings,t):e.extend({},e.fn.video.settings),v=(g.selector,g.className,g.error),b=(g.metadata,g.namespace),h=(g.templates,"."+b),y="module-"+b,k=(e(n),e(this)),C=null,T=this,w=k.data(y);p={initialize:function(){p.debug("Initializing videohtml"),p.create(),p.instantiate()},instantiate:function(){p.verbose("Storing instance of module",p),w=p,k.data(y,p)},create:function(){C=T,p.debug("Reefrencing html for videohtml element")},control:{playpause:function(n){n=e(n),n.on("click"+h,function(){T.paused?T.play():T.pause()}),k.on("play"+h,function(){n.addClass("active")}).on("pause"+h,function(){n.removeClass("active")})},playbackrate:function(n,t,o){switch(n=e(n),o){case"push":default:n.on("mousedown"+h,function(){T.playbackRate=t}),n.on("mouseup"+h+" mouseleave"+h,function(){T.playbackRate=T.defaultPlaybackRate});break;case"switch":}k.on("ratechange"+h,function(e){console.log(T.playbackRate)})},time:{current:function(e){k.on("timeupdate"+h,function(){var n=new Date(1e3*T.currentTime),t=i(String(n.getHours()-1),1,"0")+":"+i(String(n.getMinutes()),2,"0")+":"+i(String(n.getSeconds()),2,"0");e.text(t)})},remaining:function(e){k.on("timeupdate"+h,function(){var n=new Date(1e3*(T.duration-T.currentTime)),t=i(String(n.getHours()-1),1,"0")+":"+i(String(n.getMinutes()),2,"0")+":"+i(String(n.getSeconds()),2,"0");e.text(t)})},range:function(n){n=e(n);var t=!0;n.on("change",function(e){var t=n.val()/(n.prop("max")-n.prop("min"));T.fastSeek?T.fastSeek(T.duration*t):T.currentTime=T.duration*t}).on("mousedown"+h,function(){t=!1}).on("mouseup"+h,function(){t=!0}),k.on("timeupdate"+h,function(){if(t){var e=T.currentTime/T.duration,o=e*(n.prop("max")-n.prop("min"));n.val(o)}}).on("loadstart"+h+" seeking"+h,function(){a(T.currentTime,T.buffered)||n.prop("disabled",!0)}).on("loadeddata"+h+" seeked"+h,function(){n.prop("disabled",!1)})}},volume:{up:function(e,n){var n=n==o?.1:n;e.on("click"+h,function(){T.volume=Math.min(T.volume+n,1)}),k.on("volumechange"+h,function(){T.muted?e.addClass("disabled"):e.removeClass("disabled")})},down:function(e,n){var n=n==o?.1:n;e.on("click"+h,function(){T.volume=Math.max(T.volume-n,0)}),k.on("volumechange"+h,function(){T.muted?e.addClass("disabled"):e.removeClass("disabled")})},progress:function(e){e.progress({percent:100}),k.on("volumechange"+h,function(){var n=T.muted?0:T.volume;e.progress({percent:100*n}),T.muted?e.addClass("disabled"):e.removeClass("disabled")})},mute:function(e){e.on("click"+h,function(){T.muted=!T.muted}),k.on("volumechange"+h,function(){T.muted?e.addClass("active"):e.removeClass("active")})}}},destroy:function(){p.verbose("Destroying previous instance of videohtml"),C=null,p.reset(),k.removeData(y).off(h)},refresh:function(){p.verbose("Refreshing selector cache"),C=T},reset:function(){p.debug("Clearing videohtml"),g.onReset()},setting:function(n,t){if(p.debug("Changing setting",n,t),e.isPlainObject(n))e.extend(!0,g,n);else{if(t===o)return g[n];g[n]=t}},internal:function(n,t){if(e.isPlainObject(n))e.extend(!0,p,n);else{if(t===o)return p[n];p[n]=t}},debug:function(){g.debug&&(g.performance?p.performance.log(arguments):(p.debug=Function.prototype.bind.call(console.info,console,g.name+":"),p.debug.apply(console,arguments)))},verbose:function(){g.verbose&&g.debug&&(g.performance?p.performance.log(arguments):(p.verbose=Function.prototype.bind.call(console.info,console,g.name+":"),p.verbose.apply(console,arguments)))},error:function(){p.error=Function.prototype.bind.call(console.error,console,g.name+":"),p.error.apply(console,arguments)},performance:{log:function(e){var n,t,o;g.performance&&(n=(new Date).getTime(),o=u||n,t=n-o,u=n,l.push({Name:e[0],Arguments:[].slice.call(e,1)||"",Element:T,"Execution Time":t})),clearTimeout(p.performance.timer),p.performance.timer=setTimeout(p.performance.display,500)},display:function(){var n=g.name+":",t=0;u=!1,clearTimeout(p.performance.timer),e.each(l,function(e,n){t+=n["Execution Time"]}),n+=" "+t+"ms",s&&(n+=" '"+s+"'"),c.length>1&&(n+=" ("+c.length+")"),(console.group!==o||console.table!==o)&&l.length>0&&(console.groupCollapsed(n),console.table?console.table(l):e.each(l,function(e,n){console.log(n.Name+": "+n["Execution Time"]+"ms")}),console.groupEnd()),l=[]}},invoke:function(n,t,i){var a,c,s,u=w;return t=t||f,i=T||i,"string"==typeof n&&u!==o&&(n=n.split(/[\. ]/),a=n.length-1,e.each(n,function(t,i){var r=t!=a?i+n[t+1].charAt(0).toUpperCase()+n[t+1].slice(1):n;if(e.isPlainObject(u[r])&&t!=a)u=u[r];else{if(u[r]!==o)return c=u[r],!1;if(!e.isPlainObject(u[i])||t==a)return u[i]!==o?(c=u[i],!1):(p.error(v.method,n),!1);u=u[i]}})),e.isFunction(c)?s=c.apply(i,t):c!==o&&(s=c),e.isArray(r)?r.push(s):r!==o?r=[r,s]:s!==o&&(r=s),c}},d?(w===o&&p.initialize(),p.invoke(m)):(w!==o&&w.invoke("destroy"),p.initialize())}),r!==o?r:this},e.fn.videohtml.settings={name:"HtmlVideo",namespace:"htmlvideo",debug:!0,verbose:!0,performance:!0,className:{active:"active"},selector:{playButton:".play"}}}(jQuery,window,document);